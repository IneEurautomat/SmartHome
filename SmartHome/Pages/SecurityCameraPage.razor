@page "/security"
@using SmartHome.Models
@using SmartHome.Patterns.Mediator
@using SmartHome.Services
@inject DeviceFactory DeviceFactory
@inject IJSRuntime JSRuntime


<h2>Security System</h2>

<div class="camera-view">
    <video id="securityFeed" width="600" autoplay loop muted>
        <source src="videos/security-footage.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

<div class="sensor-control">
    <button @onclick="StartRecording">Start Recording</button>
    <button @onclick="StopRecording">Stop Recording</button>
</div>

<div class="recordings">
    <h3>Recorded Segments</h3>
    <div id="recordingsContainer"></div>
</div>

@code {
    private async Task StartRecording()
    {
        await JSRuntime.InvokeVoidAsync("startRecording");
    }

    private async Task StopRecording()
    {
        await JSRuntime.InvokeVoidAsync("stopRecording");
    }
}